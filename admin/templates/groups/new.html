{{define "content"}}
<h1 class="my-4">New group</h1>
<form method="POST" action="/admin/teamgroups/">
	<div class="form-group">
		<div class="row">
			<label for="name" class="col-sm-4">Name</label>
		</div>
		<div class="row">
			<div class="col-sm-6">
				<input type="text" name="name" id="group-name" class="form-control" required />
			</div>
		</div>
	</div>

	<div class="form-group row">
		<div class="col-sm-6">
			<label for="teams">Teams</label>
			<select multiple name="teams" class="form-control" size="10" required>
				{{range $team := .Teams}}
					<option>{{$team.Name}}</option>
				{{end}}
			</select>
		</div>
	</div>

	<div class="form-group row">
		<div class="col-sm-6">
			<label for="pools">Pools</label>
			<select multiple name="pools" class="form-control" size="6" required>
				{{range $pool := .Pools}}
					<option>{{$pool.Name}}</option>
				{{end}}
			</select>
		</div>
	</div>

	<div class="form-group row mt-4">
		<div class="offset-sm-1 col-sm-1">
			<button type="submit" class="btn btn-primary btn-lg">Run</button>
		</div>
		<div class="offset-sm-1 col-sm-1">
			<a href="/admin/teamgroups" class="btn btn-secondary btn-lg">Cancel</a>
		</div>
	</div>
</form>

<script>
	const form = document.querySelector("form")
	const groupName = document.querySelector("input#group-name")
	form.addEventListener("submit", event => {
		form.action += groupName.value
	})
</script>
{{end}}
