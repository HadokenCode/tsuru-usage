# Tsuru Usage

This project aims to provide an easy way to expose some resource usage about a tsuru installation. The project contains an Procfile and this code can be ran as an application on tsuru.

This app will expose usage metrics on a `/metrics` endpoint. Two main metrics are available:

- `tsuru_usage_units{app="apptest",plan="autogenerated",pool="theonepool"} 5`
- `tsuru_usage_nodes{pool="theonepool"} 2`

## Installing and Running

1. Create a go application on tsuru
2. Deploy this entire repo to tsuru
3. Set the $TSURU_TOKEN environment on the app passing a token that has at least the following permissions (with global context):
    - app.read
    - node.read

